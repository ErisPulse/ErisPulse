name: ğŸ” è‰¾è‰ä¸çš„ä»£ç å®¡æŸ¥é­”æ³• ~

permissions:
  contents: read

on:
  pull_request:
  push:
  workflow_dispatch:

jobs:
  code-quality-check:
    runs-on: ubuntu-latest
    steps:
      - name: æ£€å‡ºé­”æ³•ä¹¦
        uses: actions/checkout@v4

      - name: å‡†å¤‡é­”æ³•ç¯å¢ƒ
        uses: actions/setup-python@v5
        with:
          python-version: '3.x'

      - name: å¬å”¤å®¡æŸ¥ç²¾çµ Ruff
        run: |
          python -m pip install --upgrade pip
          pip install ruff

      - name: æ–½å±•ä»£ç å®¡æŸ¥é­”æ³•
        run: |
          echo "ğŸ” è‰¾è‰ä¸æ­£åœ¨ä½¿ç”¨ Ruff å®¡æŸ¥ä»£ç è§„èŒƒ..."
          # æ£€æŸ¥ä»£ç è§„èŒƒé—®é¢˜
          ruff check .

      - name: å±•ç¤ºé­”æ³•ç»†èŠ‚
        if: failure()
        run: |
          echo "ğŸ’¢ å‘ç°ä»£ç è§„èŒƒé—®é¢˜!"
          echo "è¯·è¿è¡Œ 'ruff check .' æœ¬åœ°æ£€æŸ¥å¹¶ä¿®å¤é—®é¢˜"
          echo "ä½ ä¹Ÿå¯ä»¥è¿è¡Œ 'ruff --fix .' è‡ªåŠ¨ä¿®å¤éƒ¨åˆ†é—®é¢˜"